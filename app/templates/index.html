<!DOCTYPE html>
<html>
  <head><title>Invoice Creator</title></head>
  <body>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
          {% for msg in messages %}
            <li>{{ msg }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <h1>Invoice Creator</h1>

    <!-- Existing buttons -->
    <form action="{{ url_for('create_invoice') }}" method="get">
      <button type="submit">Create Invoice (This Month)</button>
    </form>
    <form action="{{ url_for('sync_all') }}" method="get">
      <button type="submit">Sync All Lessons</button>
    </form>

    <!-- New custom-month form -->
    <h2>Create Invoice for a Specific Month</h2>
    <form id="custom-invoice-form">
      <label>
        Year:
        <input type="number" id="year-input" name="year" min="2000" max="2100" required>
      </label>
      <label>
        Month:
        <input type="number" id="month-input" name="month" min="1" max="12" required>
      </label>
      <button type="submit">Create Custom Invoice</button>
    </form>

    <script>
      document
        .getElementById('custom-invoice-form')
        .addEventListener('submit', function(e) {
          e.preventDefault();
          const y = document.getElementById('year-input').value;
          const m = document.getElementById('month-input').value.padStart(2, '0');
          // redirect to your custom route
          window.location.href = `/create-invoice-custom/${y}/${m}`;
        });
    </script>
  </body>
</html>